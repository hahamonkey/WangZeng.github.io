<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Cobb&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/f2823b68f4b4a07d10175ab6a8ca7076</icon>
  <subtitle>旁观者的姓名永远爬不到比赛的计分板上</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://wzwdi.cn/"/>
  <updated>2019-03-05T05:00:28.902Z</updated>
  <id>http://wzwdi.cn/</id>
  
  <author>
    <name>Cobb</name>
    <email>2662735959@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo+Github搭建博客</title>
    <link href="http://wzwdi.cn/uncategorized/cjsvbocw10002qj460d2j6qzr/Hexo-Github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://wzwdi.cn/uncategorized/cjsvbocw10002qj460d2j6qzr/Hexo-Github搭建博客/</id>
    <published>2019-03-04T06:47:07.000Z</published>
    <updated>2019-03-05T05:00:28.902Z</updated>
    
    <content type="html"><![CDATA[<p>一直打算重新整一个博客，由于实习和准备毕业论文的原因搁置下来。刚好利用这几天的闲余时间，也在想要用什么方式去实现，最终选择了<a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="noopener">Hexo</a>。这里分享一下从0到1搭建博客以及这个过程中遇到的一些问题，又是如何解决的。<strong>(注：本文基于Mac系统)</strong></p><p><img src="/img/hexo/hexo.png" alt></p><p>使用GitHub Pages + Hexo有以下几点好处：<a id="more"></a></p><ul><li>无需关注生成网页源码的细节，只需用markdown攥写你的文章</li><li>github免费提供无限资源空间</li><li>Hexo基于Node.js，其对数据的静态处理方式来的更高效</li><li>相对于搭建独立博客，有绝对的控制权，管理方便</li></ul><hr><h2><span id="一-开始之前">一、开始之前</span></h2><h3><span id="i-环境配置">I. 环境配置</span></h3><ul><li>安装<a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></li><li>安装<a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a></li></ul><h3><span id="ii-创建github项目">II. 创建Github项目</span></h3><ol><li>打开<a href="https://github.com/" target="_blank" rel="noopener">github</a>，新建项目，项目名称推荐<code>username.github.io</code>(其中username为你的github名) 的形式，原因后面会提到，另外勾上 <code>README</code> 初始化选项；</li><li>打开<code>setting</code>，找到<code>Github Pages</code>，<code>choose a theme</code>选择一个主题。重新进入设置页找到 Github Pages</li><li>点击 <a href="https://hahamonkey.github.io" target="_blank" rel="noopener">https://hahamonkey.github.io</a> 就会出现相应的网页了</li></ol><h2><span id="二-hexo安装">二、Hexo安装</span></h2><h3><span id="i-安装hexo">I. 安装Hexo</span></h3><p>首先，在合适的地方新建文件夹，例如在D盘新建Blog(D:\Blog)目录。接着打开控制台，定位到博客目录，键入下面的指令：</p><pre><code>npm install hexo-cli -g  （可能会有几条报错语句，无视就好）npm install hexo --save hexo -v (查看是否安装成功)</code></pre><p>接着初始化博客<code>hexo init</code>，<code>hexo g</code>生成静态资源，<code>hexo s</code>打开本地服务器预览网站。到此，单独的两部分都完成了。</p><h3><span id="ii-本地代码远程连接github">II. 本地代码远程连接Github</span></h3><ol><li>控制台输入：</li></ol><pre><code>git config --global user.name &quot;username&quot;   // username-&gt;github用户名git config --global user.email &quot;email&quot;  // email-&gt;github绑定邮箱</code></pre><ol start="2"><li>生成密钥 SSH key:</li></ol><pre><code>ssh-keygen -t rsa -C &quot;email&quot;eval &quot;$(ssh-agent -s)&quot;   (添加密钥到ssh-agent)ssh-add ~/.ssh/id_rsa  (添加生成的SSH key到ssh-agent)</code></pre><ol start="3"><li>打开<a href="https://github.com" target="_blank" rel="noopener">github</a>，新建SSH。接着打开控制台终端定位到根目录，输入：</li></ol><pre><code>cd ~/.sshopen .</code></pre><p>复制<code>id_rsa.pub</code>文件中的内容到新建的SSH中</p><ol start="4"><li>打开 Blog 根目录下的_config.yml文件，在文件的末尾添加如下配置：</li></ol><pre><code>deploy:   type: git  repository: https://github.com/hahamonkey/hahamonkey.github.io  branch: master（注意： 冒号后跟空格符）</code></pre><h3><span id="iii-写作">III. 写作</span></h3><p>到了这一步，搭建hexo博客基本上算是完成了，接下来可以看一下搭建的博客是什么样子。记得每次新建文章之前 <code>hexo clean</code> 删除缓存文件，防止修改分类和标签或者修改主题之后无效，好了，那就来试一下吧：</p><pre><code>hexo clean hexo new post filename    生成文件后，markdown语法编辑，具体参考 hexo官方文档hexo g      生成静态文件hexo s      打开本地服务器预览（选择性操作）hexo d      部署到 Github Pages</code></pre><p>接着打开 <a href="https://hahamonkey.github.io" target="_blank" rel="noopener">https://hahamonkey.github.io</a> 查看效果</p><h3><span id="iv-更换主题">IV. 更换主题</span></h3><p>你可能会觉得一开始选择的博客主题不太理想，好吧，当然会考虑到，也给你提供了一些<a href="https://hexo.io/themes/index.html" target="_blank" rel="noopener">选择</a>。比较之下，这款 <a href="https://github.com/chaooo/hexo-theme-BlueLake" target="_blank" rel="noopener">BlueLake</a> 甚合我意，那就开始吧：</p><ol><li>首先，下载这个主题</li></ol><pre><code>git clone https://github.com/chaooo/hexo-theme-BlueLake.git themes/bluelake</code></pre><ol start="2"><li>打开Blog根目录下的 _config.yml 文件，找到 <code>theme</code> 字段,设置 <code>theme: bluelake</code></li><li>清除缓存 <code>hexo clean</code>，生成静态文件 <code>hexo g</code>，部署到 Github Pages <code>hexo d</code>(之后统一简称“重新部署”)</li></ol><h3><span id="v-绑定域名">V. 绑定域名</span></h3><p>在这之前，博客就算是已经完成了，但是没有一个专有的域名就会觉得档次跟不上。之前我们在 github 新建项目的时候强调要用自己的 <code>github 用户名</code> 开始，以<code>.github.io</code> 作为后缀，如果不是这样，当然可以，那我们打开博客的地址可能就是下面这样：</p><blockquote><p><a href="https://username.github.io/xxxx.github.io" target="_blank" rel="noopener">https://username.github.io/xxxx.github.io</a></p></blockquote><p>很怪异不是吗？不仅是为了方便，也是防止不必要的小麻烦。下面就说说如何操作(前提你已经有了一个备案完成的域名或者你选择部分平台提供的免费的):</p><ol><li>(以阿里云购买域名为例) 打开控制台终端，键入：</li></ol><pre><code>ping hahamonkey.github.io</code></pre><p>找到博客域名(<a href="http://hahamonkey.github.io" target="_blank" rel="noopener">hahamonkey.github.io</a>)对应的IP，打开阿里云控制台添加域名解析，如下图(可能有所差别)：<br><img src="/img/hexo/as.png" alt="域名解析"><br>将其指向Github Pages 博客对应的IP。</p><ol start="2"><li>在 github 上该博客项目设置栏里找到 <code>Github Pages</code>,这个模块里有一个<code>Custom domain</code>，在里面添加你的域名保存；此时项目根目录下应该会多了个 <code>CNAME</code> 文件，内容正是你的域名（如：<a href="http://wzwdi.cn">wzwdi.cn</a>）。接着，重新部署，查看域名是否指向你的博客（正常情况下，域名绑定成功就不需要考虑下面所提到的)。<br><img src="/img/hexo/domain.png" alt="添加域名"></li><li>在 github 根目录没有生成 <code>CNAME</code> 的情况下，可以在本地Blog目录下的source文件里新增文件 <code>CNAME</code>(该文件没有后缀)，内容为<code>域名</code>，如：<a href="http://wzwdi.cn">wzwdi.cn</a>。然后重新部署。如果 GitHub 项目根目录里没有 CNAME 文件，而且不进行这步操作，那每次重新部署可能都会出现需要重新添加域名的问题。</li></ol><h2><span id="三-总结">三、 总结</span></h2><ol><li>添加https协议，修改DNS，防止网站访问被拦截，参考：<a href="https://juejin.im/post/5a6ee00ef265da3e4b770ac1#heading-28" target="_blank" rel="noopener">关于HEXO搭建个人博客的点点滴滴</a></li><li>添加本地搜索、文章置顶、评论、站点统计等功能，请参考：<a href="https://chaoo.oschina.io/2016/12/29/BlueLake%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E7%9A%84%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE.html" target="_blank" rel="noopener">关于BlueLake博客主题的详细配置</a></li><li>针对 BlueLake 主题，去除归档栏文章统计功能，打开themes目录下_config.yml文件，添加 <code>show_count: false</code></li><li>引用图片，允许使用相对路径，打开themes目录下_config.yml文件，设置<code>post_asset_folder: true</code></li><li>添加“图片集”</li></ol><blockquote><p>npm install hexo-asset-image --save</p></blockquote><p>安装成功后，使用 <code>hexo new filename</code> 创建新的md文件，会在_posts目录下创建同名的文件夹，用来放该文件用到的图片资源。使用相对路径时，通常针对这里的_posts下的同名文件夹，绝对路径针对source文件下的img(如：/img/a.png)</p><ol start="6"><li>为防止某些依赖直接用npm工具安装，导致无法顺利安装完成，推荐使用国内淘宝安装镜像：</li></ol><pre><code>npm install -g cnpm --registry=https://registry.npm.taobao.orgnpm config set registry https://registry.npm.taobao.org</code></pre><ol start="7"><li>首页摘要显示，添加<code>&lt;!--more--&gt;</code> ，这样首页和列表页展示的文章内容就是 <code>&lt;!--more--&gt;</code> 之前的文字</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一直打算重新整一个博客，由于实习和准备毕业论文的原因搁置下来。刚好利用这几天的闲余时间，也在想要用什么方式去实现，最终选择了&lt;a href=&quot;https://hexo.io/zh-cn/docs/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;。这里分享一下从0到1搭建博客以及这个过程中遇到的一些问题，又是如何解决的。&lt;strong&gt;(注：本文基于Mac系统)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/hexo/hexo.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;使用GitHub Pages + Hexo有以下几点好处：
    
    </summary>
    
    
      <category term="Hexo" scheme="http://wzwdi.cn/tags/Hexo/"/>
    
  </entry>
  
</feed>
